(()=>{"use strict";function t(t,e="",n={}){const a=document.createElement(t);a.innerHTML=e;for(let t in n)a.setAttribute(t,n[t]);return a}const e={info:(t,e)=>`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" viewBox="0 0 150 150"><rect width="150" height="150" fill="none"/><g transform="translate(27.613 27.613)"><path d="M47.387,0A47.387,47.387,0,1,0,94.773,47.387,47.441,47.441,0,0,0,47.387,0Zm0,86.158A38.771,38.771,0,1,1,86.158,47.387,38.815,38.815,0,0,1,47.387,86.158Z" fill="${t}"/><path d="M150.745,70a5.744,5.744,0,1,0,5.743,5.746A5.751,5.751,0,0,0,150.745,70Z" transform="translate(-103.359 -49.897)" fill="${t}"/><path d="M154.308,140A4.308,4.308,0,0,0,150,144.308v25.847a4.308,4.308,0,1,0,8.616,0V144.308A4.308,4.308,0,0,0,154.308,140Z" transform="translate(-106.921 -99.793)" fill="${t}"/></g></svg>`,clean:(t,e)=>`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" viewBox="0 0 150 150"><rect width="150" height="150" fill="none"/><g transform="translate(10 9.768)"><rect width="25" height="9" transform="translate(105 81.232) rotate(180)" fill="${t}"/><rect width="24" height="9" transform="translate(122 114.232) rotate(180)" fill="${t}"/><rect width="25" height="8" transform="translate(114 97.232) rotate(180)" fill="${t}"/><path d="M56.834,75.138a19.89,19.89,0,0,0-9.77-16.955L77.139,6.063,70.106,2,39.324,55.334a23.155,23.155,0,0,0-21.3,6.107C2.808,76.113,3.986,110.415,4.041,111.869a4.063,4.063,0,0,0,4.063,3.9H69.017a4.063,4.063,0,0,0,2.438-7.314C57.072,97.664,56.834,75.356,56.834,75.138Zm-20.612-12.2a12.637,12.637,0,0,1,12.491,12.2c0,.155.008.845.068,1.9L24.811,66.382a15.44,15.44,0,0,1,11.412-3.446Zm14.3,44.707a21.129,21.129,0,0,1-5.889-12.19H36.507a26.408,26.408,0,0,0,3.935,12.19H31.408A67.516,67.516,0,0,1,28.38,91.391H20.254a70.466,70.466,0,0,0,2.7,16.253H12.127c.126-7.462,1.178-23.941,7.325-34.751L50.06,86.5a52.925,52.925,0,0,0,9.187,21.14Z" transform="translate(12.252 6.336)" fill="${t}"/><rect width="130" height="130" transform="translate(0 0.232)" fill="none"/></g></svg>`,contact:(t,e)=>`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" viewBox="0 0 150 150"><rect width="150" height="150" fill="none"/><g transform="translate(17.402 26.309)"><g transform="translate(3 5)"><path d="M93.451,4A17.744,17.744,0,0,1,111.2,21.744V73.637A17.744,17.744,0,0,1,93.451,91.382H19.744A17.744,17.744,0,0,1,2,73.637V21.744A17.745,17.745,0,0,1,18.737,4.028L19.744,4Zm0,8.19H19.744l-.784.032a9.555,9.555,0,0,0-8.771,9.523V73.637a9.555,9.555,0,0,0,9.555,9.555H93.451a9.555,9.555,0,0,0,9.555-9.555V21.744A9.555,9.555,0,0,0,93.451,12.19ZM41.6,50.408a4.1,4.1,0,0,1,4.1,4.095v3.179c0,6.945-5.288,10.471-13.657,10.471S18.379,64.623,18.379,57.675V54.5a4.1,4.1,0,0,1,4.095-4.095Zm8.632-.008,7.734.008A4.1,4.1,0,0,1,62.058,54.5v1.816c0,5.261-4.177,7.738-10.237,7.738-.634,0-1.248-.027-1.838-.082a15.561,15.561,0,0,0,1.121-4.91l.049-1.384V54.5A9.517,9.517,0,0,0,50.229,50.4Zm24.111.008H90.721a4.1,4.1,0,0,1,.556,8.153l-.556.037H74.34a4.1,4.1,0,0,1-.556-8.153l.556-.037h0ZM32.033,28.569a8.193,8.193,0,1,1-8.194,8.193A8.194,8.194,0,0,1,32.033,28.569Zm21.125,2.742a6.812,6.812,0,1,1-6.813,6.812A6.812,6.812,0,0,1,53.158,31.311ZM74.34,34.029H90.721a4.1,4.1,0,0,1,.556,8.153l-.556.037H74.34a4.1,4.1,0,0,1-.556-8.152l.556-.037h0Z" transform="translate(-2 -4)" fill="${t}"/></g></g></svg>`,github:(t,e)=>`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" viewBox="0 0 150 150"><rect width="150" height="150" fill="none"/><path d="M47.388.4a47.4,47.4,0,0,0-15,92.356c2.378.447,3.237-1.019,3.237-2.286,0-1.125-.027-4.1-.044-8.053C22.4,85.27,19.619,76.044,19.619,76.044c-2.159-5.461-5.275-6.928-5.275-6.928-4.289-2.929.341-2.867.341-2.867,4.751.323,7.25,4.872,7.25,4.872,4.226,7.25,11.089,5.153,13.8,3.933a10.036,10.036,0,0,1,2.994-6.323c-10.52-1.188-21.582-5.26-21.582-23.419a18.3,18.3,0,0,1,4.872-12.727c-.524-1.188-2.129-6.015.418-12.543,0,0,3.966-1.265,13.032,4.86a44.6,44.6,0,0,1,23.694,0c9.013-6.125,12.975-4.86,12.975-4.86,2.544,6.528.939,11.352.477,12.543a18.423,18.423,0,0,1,4.842,12.727c0,18.2-11.077,22.213-21.609,23.371,1.647,1.419,3.19,4.336,3.19,8.764,0,6.338-.059,11.444-.059,12.987,0,1.232.829,2.713,3.27,2.236A47.327,47.327,0,0,0,47.382.395Z" transform="translate(27.615 28.384)" fill="${t}"/></svg>`,help:(t,e)=>`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" viewBox="0 0 150 150"><rect width="150" height="150" fill="none"/><g transform="translate(120.641 211.504)"><g transform="translate(4 2)"><path d="M69.094,2A11.624,11.624,0,0,1,80.718,13.624V79.881a3.487,3.487,0,0,1-3.487,3.487H12.974a4.65,4.65,0,0,0,4.65,4.65H77.231a3.487,3.487,0,0,1,0,6.974H15.624A11.624,11.624,0,0,1,4,83.368V13.624A11.624,11.624,0,0,1,15.624,2Zm-2,8.974H17.624a4.65,4.65,0,0,0-4.65,4.65V74.393H71.744V15.624A4.65,4.65,0,0,0,67.094,10.974Zm-7.3,4.974a4.65,4.65,0,0,1,4.65,4.65V33.9a4.65,4.65,0,0,1-4.65,4.65H22.6a4.65,4.65,0,0,1-4.65-4.65V20.6a4.65,4.65,0,0,1,4.65-4.65ZM55.47,24.923H26.923v4.65H55.47Z" transform="translate(-92 -187)" fill="${t}"/></g></g></svg>`,keyboard:(t,e)=>`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" viewBox="0 0 150 150"><path d="M0,0H150V150H0Z" fill="none"/><g transform="translate(8 -58.517)"><path d="M123,168.631V98.4a6.3,6.3,0,0,0-6.469-6.1H17.469A6.3,6.3,0,0,0,11,98.4v70.229a6.3,6.3,0,0,0,6.469,6.1h99.063A6.29,6.29,0,0,0,123,168.631Zm-102.4-4V102.4c0-.206.343-.5.869-.5h91.063c.549,0,.869.32.869.5v62.229c0,.206-.343.5-.869.5H21.469C20.943,165.134,20.6,164.837,20.6,164.631Z" transform="translate(0 0)" fill="${t}"/><ellipse cx="4.76" cy="4.76" rx="4.76" ry="4.76" transform="translate(27.942 109.606)" fill="${t}"/><ellipse cx="4.76" cy="4.76" rx="4.76" ry="4.76" transform="translate(45.6 109.606)" fill="${t}"/><ellipse cx="4.76" cy="4.76" rx="4.76" ry="4.76" transform="translate(63.286 109.606)" fill="${t}"/><ellipse cx="4.76" cy="4.76" rx="4.76" ry="4.76" transform="translate(80.972 109.606)" fill="${t}"/><ellipse cx="4.76" cy="4.76" rx="4.76" ry="4.76" transform="translate(96.538 109.606)" fill="${t}"/><ellipse cx="4.76" cy="4.76" rx="4.76" ry="4.76" transform="translate(36.771 127.829)" fill="${t}"/><ellipse cx="4.76" cy="4.76" rx="4.76" ry="4.76" transform="translate(54.457 127.829)" fill="${t}"/><ellipse cx="4.76" cy="4.76" rx="4.76" ry="4.76" transform="translate(72.115 127.829)" fill="${t}"/><path d="M370.76,240.7h0a4.76,4.76,0,1,0,0,9.52h0a4.76,4.76,0,1,0,0-9.52Z" transform="translate(-276.199 -112.871)" fill="${t}"/><path d="M188.5,308.7H137.282c-1.593,0-2.882,1.952-2.882,4.367s1.289,4.366,2.882,4.366H188.5c1.593,0,2.882-1.952,2.882-4.366S190.094,308.7,188.5,308.7Z" transform="translate(-95.891 -161.105)" fill="${t}"/></g></svg>`,projects:(t,e)=>`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" viewBox="0 0 150 150"><path d="M0,0H150V150H0Z" fill="none"/><g transform="translate(30.545 30.546)"><g transform="translate(17.396 11.597)"><path d="M151.393,66.782h-48.32a2.9,2.9,0,0,0-2.9,2.9v34.79a2.9,2.9,0,0,0,2.9,2.9h48.319a2.9,2.9,0,0,0,2.9-2.9V69.681A2.9,2.9,0,0,0,151.393,66.782Zm-32.857,34.79H105.972V72.58h12.563Zm29.958,0h-24.16v-11.6h24.16Zm0-17.395h-24.16V72.58h24.16Z" transform="translate(-100.174 -66.782)" fill="${t}"/></g><g transform="translate(0.001)"><g transform="translate(0)"><path d="M86.01,57.983h-2.9V5.8h2.9a2.9,2.9,0,0,0,0-5.8H2.9a2.9,2.9,0,0,0,0,5.8H5.8V57.983H2.9a2.9,2.9,0,0,0,0,5.8H41.556V78.12L26.143,83.258a2.9,2.9,0,1,0,1.834,5.5l16.478-5.493,16.478,5.493a2.9,2.9,0,0,0,1.834-5.5L47.355,78.12V63.782H86.01a2.9,2.9,0,1,0,0-5.8Zm-8.7,0H11.6V5.8H77.312Z" transform="translate(-0.001)" fill="${t}"/></g></g></g></svg>`,email:(t,e)=>`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" viewBox="0 0 150 150"><rect width="150" height="150" fill="none"/><g transform="translate(355.843 -42.355)"><path d="M95.084,12.089H13.23A13.246,13.246,0,0,0,0,25.319V83.392a13.246,13.246,0,0,0,13.23,13.23H95.084a13.246,13.246,0,0,0,13.23-13.23V25.321A13.244,13.244,0,0,0,95.084,12.089ZM88.619,20.72l-34.462,22.2L19.7,20.72Zm6.465,67.272H13.23a4.6,4.6,0,0,1-4.6-4.6V25.565L51.494,53.128c.058.036.119.06.178.093s.125.068.188.1a4.971,4.971,0,0,0,1.024.4c.036.01.072.014.108.023a5.063,5.063,0,0,0,1.161.147h.009a4.984,4.984,0,0,0,1.161-.147c.036-.009.072-.013.108-.023a5,5,0,0,0,1.024-.4c.063-.032.127-.065.188-.1s.121-.058.178-.093L99.686,25.565V83.392A4.609,4.609,0,0,1,95.084,87.992Z" transform="translate(-335 63)" fill="${t}"/></g></svg>`,link:(t,e)=>`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" viewBox="0 0 150 150"><rect width="150" height="150" fill="none"/><g transform="translate(28.428 28.423)"><path d="M121.829,7.383l-.074-.071A25.454,25.454,0,0,0,86.1,7.376l-.062.064L70.076,23.406a3.581,3.581,0,1,0,5.064,5.063L91.164,12.443l.05-.05a18.295,18.295,0,0,1,25.546.051l.064.063a18.122,18.122,0,0,1-.059,25.536L100.742,54.067a3.581,3.581,0,0,0,5.065,5.063L121.83,43.106A25.292,25.292,0,0,0,121.829,7.383Z" transform="translate(-36.07 0)" fill="${t}"/><path d="M54.062,100.73,38.048,116.745l-.094.1A18.1,18.1,0,0,1,12.446,91.151L28.467,75.135A3.584,3.584,0,0,0,29.516,72.6V72.6a3.58,3.58,0,0,0-6.173-2.467L7.38,86.087A25.264,25.264,0,0,0,43.1,121.822c.036-.036.072-.073.106-.111l15.917-15.917a3.581,3.581,0,0,0-5.064-5.064Z" transform="translate(0 -36.06)" fill="${t}"/><path d="M58,94.646a3.581,3.581,0,0,0,5.064,0l31.59-31.589a3.581,3.581,0,1,0-5.063-5.064L58,89.582A3.58,3.58,0,0,0,58,94.646Z" transform="translate(-29.761 -29.751)" fill="${t}"/></g></svg>`,linkedin:(t,e)=>`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" viewBox="0 0 150 150"><rect width="150" height="150" fill="none"/><g transform="translate(26.729 26.729)"><path d="M246.052,203.826v-.141c-.029.047-.069.095-.094.141Z" transform="translate(-193.77 -160.467)" fill="${t}" fill-rule="evenodd"/><path d="M0,0V96.542H96.542V0ZM30.028,80.2H15.7V37.112H30.028ZM22.867,31.23h-.095c-4.8,0-7.919-3.31-7.919-7.448,0-4.228,3.205-7.445,8.108-7.445s7.916,3.216,8.01,7.445C30.971,27.92,27.864,31.23,22.867,31.23ZM81.69,80.2H67.362V57.15c0-5.791-2.07-9.743-7.256-9.743a7.834,7.834,0,0,0-7.35,5.239,9.817,9.817,0,0,0-.475,3.492V80.2H37.951s.192-39.05,0-43.093h14.33v6.106A14.228,14.228,0,0,1,65.194,36.1c9.429,0,16.5,6.157,16.5,19.393Z" fill="${t}" fill-rule="evenodd"/></g></svg>`};class n{constructor(t,e={}){this.type=t,this.parameters=e}}class a{constructor(){this.oldInput="",this.input="",this.listeners=[]}getInput(){return this.input}getPrevInput(){return this.oldInput}updateInput(t){this.oldInput=this.input,this.input=t,this.listeners.forEach((t=>t(this)))}subscribe(t){this.listeners.push(t)}}class s{constructor(t){this.out=t,this.listeners=[]}hasElement(t){const e=this.out.children;for(let n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}broadCast(){this.listeners.forEach((t=>t(this)))}append(t){this.out.appendChild(t),this.broadCast()}insert(t,e){const n=this.out.children,a=e<0?n.length+e:e;this.out.insertBefore(t,n[a]),this.broadCast()}clear(){this.out.innerHTML="",this.broadCast()}subscribe(t){this.listeners.push(t)}printLink(n){const a=t("div","",{id:"terminal-link"}),s=t("div","",{class:"name"}),i=t("div",e[n.type]("#984511","24px"),{class:"icon"}),r=t("p",n.name,{class:"name-text highlight text-label"}),l=t("p",":",{class:"sep"}),o=t("div","",{class:"container"}),c=t("a","",{class:"link",href:n.link,target:"_blank",rel:"noopener noreferrer"}),h=t("p",n.text,{class:"text clickable focus"});s.appendChild(i),s.appendChild(r),c.appendChild(h),o.appendChild(c),a.appendChild(s),a.appendChild(l),a.appendChild(o),this.append(a)}printCMDDesc(e){const n=t("div","",{id:"terminal-cmddesc"}),a=t("p",e.name,{class:"name focus clickable text-label"}),s=t("p",":",{class:"sep"}),i=t("p",e.desc,{class:"desc"});a.onclick=e.func,n.appendChild(a),n.appendChild(s),n.appendChild(i),this.append(n)}printProject(e){const n=t("div","",{id:"terminal-project"}),a=t("div","",{class:"container"}),s=t("a","",{class:"link",href:e.link,target:"_blank",rel:"noopener noreferrer"}),i=t("p",e.name,{class:"name focus clickable text-label"}),r=t("p",":",{class:"sep"}),l=t("p",e.desc,{class:"desc"});s.appendChild(i),a.appendChild(s),n.appendChild(a),n.appendChild(r),n.appendChild(l),this.append(n)}printText(e){const n=t("p",e.text);this.append(n)}printLine(e){const n=t("p");if(e.height){let t="";for(let n=0;n<e.height;n++)t+="<br>";n.innerHTML=t}else n.innerHTML="<br>";this.append(n)}printList(t){const e=t.list,n=t.min_interval,a=t.max_interval;void 0===n&&(n=500,a=500),void 0===a&&(a=n);let s=0;const i=function(t,e,n){let a;const s=()=>{a=setTimeout((()=>{t(),s()}),Math.floor(Math.random()*(n-e+1))+e)};return s(),{clear:()=>{clearTimeout(a)}}}((()=>{s>=e.length?i.clear():this.print(e[s++])}),n,a)}printCustom(t){const e=t.element;this.append(e)}printSep(e){const n=t("p","* * *",{class:"separator"});this.append(n),this.printLine(e)}print(t){switch(t.type){case"text":this.printText(t.parameters);break;case"line":this.printLine(t.parameters);break;case"link":this.printLink(t.parameters);break;case"list":this.printList(t.parameters);break;case"CMDDesc":this.printCMDDesc(t.parameters);break;case"project":this.printProject(t.parameters);break;case"separator":this.printSep(t.parameters);break;case"custom":this.printCustom(t.parameters);break;case"lambda":t.parameters.func()}}}const i={pid:"",locked:!1,message:"",input_func:null},r=[{name:"welcome",func:function(t){const e=u();c(e,'<span class="highlight">[System is Currently Occupied]</span>'),t.outStream.print(new n("list",{list:[new n("lambda",{func:()=>{g(t)}}),new n("separator",{height:1}),new n("text",{text:"Hello stranger! Welcome~ Welcome~ ;] My name is Gengyuan Huang, a programmer..."}),new n("line",{height:1}),new n("text",{text:"I have recently graduated from the University of Alberta with a CS degree... I have rent to pay, and a mouth to feed (my mouth)... <span class='highlight'>I am open to work!</span>"}),new n("line",{height:1}),new n("separator",{height:1}),new n("text",{text:"To navigate the site, you can either type commands into the console or click on the highlighted elements. Here are some useful commands:"}),...(()=>{const e=[];return r.forEach((a=>{a.star&&(e.push(new n("line",{height:1})),e.push(new n("CMDDesc",{name:a.name,desc:a.desc,func:()=>{x.getInstance().execute(a.name,{outStream:t.outStream})}})))})),e})(),new n("line",{height:1}),new n("separator",{height:1}),new n("lambda",{func:()=>{m(t),h(e)}})],min_interval:0,max_interval:100}))},desc:"welcome message"},{name:"help",func:w,desc:"list all the commands that aghnu.me currently supports",star:!0},{name:"clear",func:y,desc:"clear the terminal screen"},{name:"contact",func:function(t){t.outStream.print(new n("list",{list:[new n("text",{text:"To contact me:"}),new n("link",{link:"mailto:gengyuan@ualberta.ca",name:"Email",text:"gengyuan@ualberta.ca",type:"email"}),new n("link",{link:"https://github.com/aghnu",name:"Github",text:"aghnu",type:"github"}),new n("link",{link:"https://www.linkedin.com/in/gengyuan-huang",name:"LinkedIn",text:"Gengyuan Huang",type:"linkedin"}),new n("link",{link:"https://www.aghnu.me",name:"Website",text:"aghnu.me",type:"link"}),new n("line",{height:1})],min_interval:0,max_interval:0}))},desc:"list my contact information",star:!0},{name:"keyboard",func:function(t){const e=document.querySelector("#virtual-keyboard");e&&e.classList.toggle("on"),t.outStream.broadCast()},desc:"open/close the virtual keyboard"},{name:"projects",func:function(t){t.outStream.print(new n("list",{list:[new n("text",{text:"Past Projects:"}),new n("project",{name:"Yonder",desc:"Yonder is a distributed social network using RESTful API. (UAlberta CMPUT404 class project)",link:"https://github.com/aghnu/yonder"}),new n("line",{height:1}),new n("project",{name:"MoodSwing",desc:"MoodSwing is a Java-based android app designed to record and archive user’s mood in relation to geo location and time. Users can follow each other on MoodSwing and view their friend's mood records. (UAlberta CMPUT301 class project)",link:"https://github.com/aghnu/MoodSwing"}),new n("line",{height:1}),new n("project",{name:"A python implementation of Hollow Heap",desc:"hollow_heap.py is a python implementation of Hollow Heap base on Thomas Dueholm Hansen, Haim Kaplan, Robert E. Tarjan, Uri Zwick 's paper https://arxiv.org/abs/1510.06535. (UAlberta CMPUT403 class project)",link:"https://github.com/aghnu/Hollow_Heap"}),new n("line",{height:1}),new n("project",{name:"XiaoHongShu Userscript",desc:"a tampermonkey userscript to export xiaohongshu.com search query result to speadsheet ",link:"https://github.com/aghnu/xiaohongshu_search_export_userscript"}),new n("line",{height:1}),new n("project",{name:"Interactive Moodle Plugin",desc:"This plugin is a Moodle Activity Module that is developed for Delphi technology as part of their future online learning platform for aviators. (UAlberta CMPUT401 class project)",link:"https://github.com/aghnu/Interactive-Moodle-Plugin-Showcase"}),new n("line",{height:1}),new n("project",{name:"Jia's Lab",desc:"Dr. Huijue Jia's personal website.",link:"https://jiaslab-org.github.io/"}),new n("line",{height:1}),new n("text",{text:"Current Projects:"}),new n("project",{name:"Stranding Air",desc:"A website for a group of passionate people who are interested in exploring the boundary of visual design, art, media, and technology.",link:"https://www.strandingair.com"}),new n("line",{height:1}),new n("project",{name:"GFE.js",desc:"GFE is a simplification of the project libgif-js. It provides a function to extract the frames of a gif.",link:"https://github.com/aghnu/gif_frames_extract_js"}),new n("line",{height:1}),new n("project",{name:"Aghnu's Console",desc:"A personal project that shows my frustration and my passion for Human-Computer Interaction. Oh... It also serves as my personal website.",link:"https://github.com/aghnu/aghnu.github.io"}),new n("line",{height:1}),new n("project",{name:"Aghnu's ASCII Art Generator",desc:"An ASCII Art Toolkit Website written in JavaScript, using opencv.js. Code is running on client side. It supports gif and static images convertion. The output is displayed as HTML elements and animated by JavaScript.<span class='highlight'>(Website Link: <a target='_blank' class='clickable focus' href='https://www.aghnu.me/tools/ascii_art_generator/' >https://www.aghnu.me/tools/ascii_art_generator/</a>)</span>",link:"https://github.com/aghnu/aghnus_ascii_art_generator"}),new n("line",{height:1}),new n("project",{name:"WNFA",desc:"WNFA (Words Never Fall Apart) is an interactive art project that uses grid method and machine learning to generate art from handwritten poems.",link:"https://github.com/aghnu/WNFA"}),new n("line",{height:1}),new n("project",{name:"WNFA 3D Virtual Gallery",desc:"A 3D Virtual Gallery display the poster results generated by WNFA at Zhejiang Exhibition Hall from 06.01.2022 to 06.12.2022. It is written in pure JavaScript. 3D is achieved by CSS 3D transform.",link:"https://www.aghnu.me/gallery/WNFA"}),new n("line",{height:1})],min_interval:0,max_interval:0}))},desc:"list all the projects that I worked on"},{name:"about",func:function(t){t.outStream.print(new n("list",{list:[new n("text",{text:"To know more about this website: "}),new n("text",{text:"- <a target='_blank' class='clickable focus' href='https://github.com/aghnu/aghnu.github.io' >https://github.com/aghnu/aghnu.github.io</a>"}),new n("text",{text:"- <a target='_blank' class='clickable focus' href='https://github.com/aghnu/aghnus_console' >https://github.com/aghnu/aghnus_console</a>"}),new n("line",{height:1})],min_interval:0,max_interval:0}))},desc:"more about this website/project"},{name:"simplify",func:function(e){const a=u();c(a,'<span class="highlight">[System is Currently Occupied]</span>');const s=t("span","YES",{class:"focus clickable"}),r=t("span","NO",{class:"focus clickable"});e.outStream.print(new n("list",{list:[new n("text",{text:"Go to a text-based version of aghnu.me with reduced functionility and condensed information."}),new n("line",{height:1}),new n("text",{text:"Do you wish to continue? Type (y/N)"}),new n("custom",{element:(()=>{const n=t("p","or click: "),a=t("span","&nbsp");return n.appendChild(s),n.appendChild(a),n.appendChild(r),s.style.cursor="pointer",r.style.cursor="pointer",s.onclick=()=>{x.getInstance().execute("y",{outStream:e.outStream})},r.onclick=()=>{x.getInstance().execute("n",{outStream:e.outStream})},n})()})],min_interval:0,max_interval:0})),function(t,e="",n=null){i.pid===t&&(i.message=e,i.input_func=n)}(a,"System is Currently Occupied",((t,e)=>{"y"===t||"Y"===t?(h(a),e.outStream.print(new n("line",{height:1})),d(),s.onclick=null,r.onclick=null,window.location="?simple=true"):"n"===t||"N"===t||""===t?(h(a),e.outStream.print(new n("line",{height:1})),s.onclick=null,r.onclick=null):e.outStream.print(new n("text",{text:'<span class="highlight">[Pick your options to continue]</span>'}))}))},desc:"display the simplified text-based version of aghnu.me, reduced functionilities but information is condensed",star:!0},{name:"map",func:f,desc:"display site map",star:!0},{name:"posts",func:m,desc:"print the posts",star:!0},{name:"system",func:g,desc:"display system and text version"}],l=[{name:"exit",func:d},{name:"close",func:d},{name:"cmd",func:w},{name:"man",func:w},{name:"unlock",func:function(){h(i.pid)}},{name:"ls",func:f},{name:"list",func:f},{name:"uname",func:g},{name:"cl",func:y}],o=["keyboard","unlock"];function c(t,e="",n=null){return""===i.pid&&(i.pid=t,i.locked=!0,i.message=e,i.input_func=n,!0)}function h(t){return t==t&&(i.pid="",i.locked=!1,i.message="",i.input_func=null,!0)}let p=0;function u(){return p++}function d(){document.querySelector("#site-app").style.display="none",document.querySelector("#site-semantic").style.display="block"}function m(t){t.outStream.print(new n("list",{list:[new n("text",{text:"Posts: "}),new n("text",{text:"Check out this client side ASCII Art Generator I wrote using opencv.js: <a target='_blank' class='focus clickable' href='https://www.aghnu.me/tools/ascii_art_generator/' >Aghnu's ASCII Art Generator</a>"}),new n("line",{height:1}),new n("text",{text:"3D Virtual Gallery I worte to display the poster results generated by <span class='highlight'>WNFA</span> at Zhejiang Exhibition Hall from 06.01.2022 to 06.12.2022: <a target='_blank' class='focus clickable' href='https://www.aghnu.me/gallery/WNFA' >WNFA 3D Virtual Gallery</a>"}),new n("line",{height:1})],min_interval:0,max_interval:0}))}function g(e){e.outStream.print(new n("list",{list:[new n("custom",{element:(()=>{const e=t("div",""),n=t("p","<span class='focus double-line'>Aghnu's Console<span>"),a=t("p",'<span class="highlight">System Ver. 2022.07.05.01</span>');return e.appendChild(n),e.appendChild(a),e})()}),new n("line",{height:1})],min_interval:0,max_interval:0}))}function f(t){t.outStream.print(new n("list",{list:[new n("text",{text:"Sitemap of aghnu.me: "}),new n("text",{text:"- <a target='_blank' class='clickable focus' href='/' >aghnu.me</a>"}),new n("text",{text:"- <a target='_blank' class='clickable focus' href='/?simple=true' >aghnu.me/?simple=true</a>"}),new n("text",{text:"- <a target='_blank' class='clickable focus' href='/tools/' >aghnu.me/tools/</a>"}),new n("text",{text:"- <a target='_blank' class='clickable focus' href='/tools/ascii_art_generator/' >aghnu.me/tools/ascii_art_generator/</a>"}),new n("text",{text:"- <a target='_blank' class='clickable focus' href='/gallery/' >aghnu.me/gallery/</a>"}),new n("text",{text:"- <a target='_blank' class='clickable focus' href='/gallery/WNFA/' >aghnu.me/gallery/WNFA/</a>"}),new n("line",{height:1})],min_interval:0,max_interval:0}))}function w(t){t.outStream.print(new n("list",{list:(()=>{const e=[];return e.push(new n("text",{text:"Commands:"})),r.forEach((a=>{e.push(new n("CMDDesc",{name:a.name,desc:a.desc,func:()=>{x.getInstance().execute(a.name,{outStream:t.outStream})}})),e.push(new n("line",{height:1}))})),e})(),min_interval:0,max_interval:0}))}function y(t){t.outStream.clear()}class x{constructor(){if(x._instance)return x._instance;x._instance=this,this.path,this.updatePath()}static getInstance(){return x._instance?x._instance:new x}updatePath(){this.path={},r.forEach((t=>{this.path[t.name]={exe:t.func}})),l.forEach((t=>{this.path[t.name]={exe:t.func}}))}execute(t,e){o.includes(t)||!i.locked?""===t?e.outStream.print(new n("line",{height:1})):void 0===this.path[t]?e.outStream.print(new n("text",{text:"<span class='highlight'>[Command Not Found]</span>"})):(e.outStream.print(new n("text",{text:`<span class='highlight'>[${t}]</span>`})),this.path[t].exe(e)):null===i.input_func?e.outStream.print(new n("text",{text:i.message})):i.input_func(t,e)}}class v{#t="guest@aghnu.me:/$:&nbsp";#e="_";#n;constructor(t,e){this.out=e,this.in=t,window.addEventListener("resize",(()=>this.refresh)),this.#a(),this.#s(),this.#i(),this.#r()}refresh(){this.#n.scrollIntoView(!0)}#r(){this.out.subscribe((()=>{this.refresh()})),this.in.subscribe((()=>{this.refresh()}))}#i(){const n=document.querySelector("#function-key-container .left"),a=document.querySelector("#function-key-container .middle"),s=document.querySelector("#function-key-container .right");[{type:"keyboard",text:"keyboard",col:"left",func:()=>{x.getInstance().execute("keyboard",{outStream:this.out})}},{type:"clean",text:"clear",col:"middle",func:()=>{x.getInstance().execute("clear",{outStream:this.out})}},{type:"help",text:"help",col:"right",func:()=>{x.getInstance().execute("help",{outStream:this.out})}},{type:"contact",text:"contact",col:"left",func:()=>{x.getInstance().execute("contact",{outStream:this.out})}},{type:"info",text:"sitemap",col:"middle",func:()=>{x.getInstance().execute("map",{outStream:this.out})}},{type:"projects",text:"projects",col:"right",func:()=>{x.getInstance().execute("projects",{outStream:this.out})}}].forEach((i=>{const r=t("button","",{class:"key"}),l=t("div",e[i.type]("#984511","26px"),{class:"icon"}),o=t("text",i.text,{class:"text"}),c=t("div","",{class:"text-container"});switch(r.onclick=i.func,c.appendChild(o),r.appendChild(l),r.appendChild(c),i.col){case"left":n.appendChild(r);break;case"middle":a.appendChild(r);break;case"right":s.appendChild(r)}}))}#s(){const e=document.querySelector("#footer"),n=t("p","",{id:"footer-date-str"}),a=t("div","",{class:"text-container"}),s=new Date;n.innerHTML=s.toLocaleDateString()+"&nbsp"+s.toLocaleTimeString(),setInterval((()=>{const t=new Date;n.innerHTML=t.toLocaleDateString()+"&nbsp"+t.toLocaleTimeString()}),1e3),a.appendChild(n),e.appendChild(a)}#a(){let e="";const n=document.querySelector("#terminal-container");let a;this.#n=t("p","",{id:"terminal-input"});const s=()=>{clearInterval(a),e=this.in.getInput().replaceAll(" ","&nbsp"),this.#n.innerHTML=this.#t+e+this.#e;let t=!1;a=setInterval((()=>{this.#n.innerHTML=t?this.#t+e+this.#e:this.#t+e+"&nbsp",t=!t}),500)};s(),this.in.subscribe(s),n.append(this.#n)}}class b{constructor(t,e){this.keyAllowedShowSet=new Set(["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9","/"," "]),this.specialKeyHandlers={},this.inputStream=t,this.outputStream=e,this.#l(),this.#o(),this.#c()}#o(){document.addEventListener("keydown",(t=>{const e=t.key;this.pressKey(e,(()=>{t.preventDefault()}))}))}#c(){const e=[["1","2","3","4","5","6","7","8","9","0"],["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["z","x","c","v","b","n","m","/"],[" ","Enter","Backspace"]],n=[["1","2","3","4","5","6","7","8","9","0"],["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["z","x","c","v","b","n","m","/"],["Space","Enter","Back"]],a=document.querySelector("#virtual-keyboard");for(let s=0;s<n.length;s++){const i=t("div","",{class:"row"});for(let a=0;a<n[s].length;a++){const r=n[s][a],l=e[s][a],o=t("button",r,{class:"key noselect",id:"virtual-key-"+r});let c=!1,h=null,p=null;const u=()=>{h&&(clearTimeout(h),h=null),p&&(clearInterval(p),p=null),o.classList.add("hold"),c=!0,h=setTimeout((()=>{!0===c&&(p=setInterval((()=>{this.pressKey(l)}),30))}),500)},d=()=>{h&&(clearTimeout(h),h=null),p?(clearInterval(p),p=null):c&&this.pressKey(l),o.classList.remove("hold"),c=!1};o.addEventListener("touchstart",(t=>{t.preventDefault(),u()})),o.addEventListener("touchend",(t=>{t.preventDefault(),d()})),o.addEventListener("touchcancel",(t=>{t.preventDefault(),d()})),o.addEventListener("mousedown",(t=>{t.preventDefault(),u()})),o.addEventListener("mouseup",(t=>{t.preventDefault(),d()})),document.addEventListener("mouseup",(t=>{d()})),i.appendChild(o)}a.append(i)}}#l(){this.addSpecialKey("Backspace",(()=>{this.inputStream.updateInput(this.inputStream.getInput().slice(0,-1))})),this.addSpecialKey("Enter",(()=>{const t=x.getInstance(),e=this.inputStream.getInput();this.inputStream.updateInput(""),""!==e&&this.outputStream.print(new n("text",{text:"<span class='focus'>>&nbsp</span><span class='focus'>"+e+"</span>"})),t.execute(e,{outStream:this.outputStream})}))}keyIsAllowedShow(t){return this.keyAllowedShowSet.has(t)}keyIsSpecial(t){return void 0!==this.specialKeyHandlers[t]}addSpecialKey(t,e){this.specialKeyHandlers[t]=e}updateInputWithKey(t){this.inputStream.updateInput(this.inputStream.getInput()+t)}pressKey(t,e=null){let n=!1;this.keyIsAllowedShow(t)&&(this.updateInputWithKey(t),n=!0),this.keyIsSpecial(t)&&(this.specialKeyHandlers[t](),n=!0),n&&null!==e&&e()}}window.addEventListener("load",(()=>{const e=function(){const e=t("div","",{id:"site-app"}),n=t("div","",{id:"second-layer",class:"layer clickthrough noselect"}),a=t("div","",{id:"third-layer",class:"layer"}),s=t("div","",{id:"virtual-keyboard"}),i=t("div","",{id:"terminal-container"}),r=t("div","",{id:"function-key-container",class:"noselect"}),l=t("div","",{id:"footer"}),o=t("div","",{id:"terminal-output"}),c=t("div","",{class:"container left"}),h=t("div","",{class:"container middle"}),p=t("div","",{class:"container right"});return i.appendChild(o),r.appendChild(c),r.appendChild(h),r.appendChild(p),a.appendChild(s),a.appendChild(i),a.appendChild(r),a.appendChild(l),e.appendChild(n),e.appendChild(a),document.body.appendChild(e),e}(),n=document.querySelector("#site-semantic");!function(){const t=new a,e=new s(document.querySelector("#terminal-container #terminal-output"));new x,new v(t,e),new b(t,e),x.getInstance().execute("welcome",{outStream:e})}();const i=new URL(window.location);"true"===(i.searchParams.get("simple")?i.searchParams.get("simple"):"false")?n.style.display="block":e.style.display="block"}))})();